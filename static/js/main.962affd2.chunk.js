(this.webpackJsonpmeeting=this.webpackJsonpmeeting||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),a=n(7),s=n.n(a),i=(n(13),n(3)),c=n(0);function u(e){var t=e.isDisabled,n=e.clickHandle,o=e.restart;return Object(c.jsx)("div",{className:"card-action","data-testid":"component-card-action",children:o?Object(c.jsx)("button",{className:"restart","data-testid":"cca-restart",onClick:n,children:"Back to the start screen"}):Object(c.jsx)("button",{"data-testid":"cca-next",disabled:t,onClick:n,children:"Next"})})}function d(e){var t=e.id,n=e.question_text,o=e.text,r=e.show_booking_button,a=e.answers,s=e.setHistory,i=e.selectedAnswer;var u=n||"Thank you for answering the question";return Object(c.jsxs)("div",{className:"card-content","data-testid":"component-card-container",children:[Object(c.jsx)("div",{className:"question","data-testid":"ccc-question",children:u}),Object(c.jsxs)("div",{className:"choice",children:[a&&a.map((function(e){var n=e.id,o=e.label;return Object(c.jsx)("button",{"data-testid":"ccc-answer-button",onClick:function(){return function(e){var n={id:t,answer:e,score:(a&&a.find((function(t){return t.id===e}))||{score:0}).score};s&&s(n)}(n)},className:i&&i===n?"selected":"",children:o},n)})),Object(c.jsxs)("div",{className:a?"hidden":"outcome","data-testid":"ccc-outcome",children:[o&&Object(c.jsx)("p",{"data-testid":"ccc-outcome-text",children:o}),r&&Object(c.jsx)("button",{className:"book-meeting","data-testid":"ccc-book-button",children:"Book a meeting"})]})]})]})}var l=Object(o.memo)(d);function _(e){var t=e.title,n=e.tracker,o=e.handleBack,r=e.actionIsDisabled,a="header-action".concat(r?" hidden":"");return Object(c.jsxs)("div",{className:"card-header","data-testid":"component-card-header",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:a,"data-testid":"cch-action",onClick:o,children:"."}),Object(c.jsx)("div",{className:"header-title","data-testid":"cch-title",children:t})]}),Object(c.jsx)("ul",{children:n.map((function(e){var t=e.id,n=e.cls;return Object(c.jsx)("li",{className:n},t)}))})]})}var b={questions:[{id:"is_heartburn_known",question_text:"Is your heartburn previously known?",answers:[{id:"is_heartburn_known_yes",label:"Yes",score:5},{id:"is_heartburn_known_no",label:"No",score:0}],next:[{answered:"is_heartburn_known_yes",next_question:"heartburn_previous_treatment"},{answered:"is_heartburn_known_no",next_question:"heartburn_weekly_burns"}]},{id:"heartburn_previous_treatment",question_text:"Have you received any treatment for heartburn previously?",answers:[{id:"heartburn_previous_treatment_yes",label:"Yes",score:0},{id:"heartburn_previous_treatment_no",label:"No",score:0}],next:[{next_question:"heartburn_weekly_burns"}]},{id:"heartburn_weekly_burns",question_text:"During a regular week, how often do you have a burning sensation behind your sternum (heartburn)",answers:[{id:"heartburn_weekly_burns_0_to_3",label:"0-3 days",score:0},{id:"heartburn_weekly_burns_4_to_7",label:"4-7 days",score:10}],next:[{next_question:"heartburn_weekly_gastric"}]},{id:"heartburn_weekly_gastric",question_text:"During a regular week, how often do you feel gastric content (solid or liquid) moving upwards against the throat or mouth (regurgitation)?",answers:[{id:"heartburn_weekly_gastric_0_to_3",label:"0-3 days",score:0},{id:"heartburn_weekly_gastric_4_to_7",label:"4-7 days",score:10}],next:[{next_question:"heartburn_weekly_pain"}]},{id:"heartburn_weekly_pain",question_text:"During a regular week, how often do you have pain in the upper and middle part of the stomach?",answers:[{id:"heartburn_weekly_pain_0_to_3",label:"0-3 days",score:0},{id:"heartburn_weekly_pain_4_to_7",label:"4-7 days",score:10}],next:[{next_question:"heartburn_weekly_nauseus"}]},{id:"heartburn_weekly_nauseus",question_text:"During a regular week, how often do you feel nauseus?",answers:[{id:"heartburn_weekly_nauseus_0_to_3",label:"0-3 days",score:0},{id:"heartburn_weekly_nauseus_4_to_7",label:"4-7 days",score:10}],next:[{next_question:"heartburn_weekly_sleep"}]},{id:"heartburn_weekly_sleep",question_text:"During a regular week, how often are you struggling to sleep well because of heartburn and / or regurgitations?",answers:[{id:"heartburn_weekly_sleep_0_to_3",label:"0-3 days",score:0},{id:"heartburn_weekly_sleep_4_to_7",label:"4-7 days",score:10}],next:[{next_question:"heartburn_swallowing"}]},{id:"heartburn_swallowing",question_text:"Do you have difficulty swallowing?",answers:[{id:"heartburn_swallowing_yes",label:"Yes",score:25},{id:"heartburn_swallowing_no",label:"No",score:0}],next:[{next_question:"heartburn_blood_stool"}]},{id:"heartburn_blood_stool",question_text:"Have you seen blood in the stool or vomited blood?",answers:[{id:"heartburn_blood_stool_yes",label:"Yes",score:25},{id:"heartburn_blood_stool_no",label:"No",score:0}],next:[{next_question:"heartburn_lost_weight"}]},{id:"heartburn_lost_weight",question_text:"Have you lost weight unvolontarily?",answers:[{id:"heartburn_lost_weight_yes",label:"Yes",score:25},{id:"heartburn_lost_weight_no",label:"No",score:0}],next:[{max_score:5,outcome:"rest_and_come_back_later"},{max_score:49,outcome:"see_a_doctor"},{outcome:"go_to_emergency_room"}]}],outcomes:[{id:"rest_and_come_back_later",text:"Your symptom description indicates that this is a self-healing condition. We recommend that you rest for few days. Contact us again if your condition gets worse or if symptoms remain for more than three days.",show_booking_button:!1},{id:"see_a_doctor",text:"Your symptom description indicates that you are in need of medical care. Good news \u2013 KRY can help. Book an appointment with one of our doctors.",show_booking_button:!0},{id:"go_to_emergency_room",text:"Your symptom description indicates that you are in need of URGENT medical care. Go directly to the nearest emergency room. If you are unable to do so, call an ambulance.",show_booking_button:!1}]},h=(n(15),n(8)),w=n(2);var f=function(){var e=function(e){var t=Object(o.useState)([]),n=Object(w.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)({}),c=Object(w.a)(s,2),u=c[0],d=c[1],l=Object(o.useState)(""),_=Object(w.a)(l,2),b=_[0],f=_[1],m=Object(o.useState)(""),x=Object(w.a)(m,2),y=x[0],j=x[1],k=Object(o.useState)({}),g=Object(w.a)(k,2),v=g[0],O=g[1],p=Object(o.useState)([]),q=Object(w.a)(p,2),N=q[0],C=q[1],D=Object(o.useState)([]),B=Object(w.a)(D,2),S=B[0],Y=B[1],H=e.questions[0],I=Object(o.useCallback)((function(){return function(t){for(var n,o=[{id:"initial",cls:"history"}],r=0;r<=e.questions.length-1;r++)t[r]?o.push({id:t[r].id,cls:"history"}):o.push({id:(n=r,"".concat(n," - future")),cls:"future"});return o}(N)}),[N]),A=Object(o.useCallback)((function(){C([]),f(H.id),j(H.id),Y(I())}),[]);Object(o.useEffect)((function(){a(e.questions),A()}),[A]),Object(o.useEffect)((function(){var e=y||b,t=r.find((function(t){return t.id===e}));t&&d(t)}),[y,b,r]),Object(o.useEffect)((function(){Y(I())}),[N,I]);var F=v.id===u.id,E=u.id===b;return{actualContent:u,handleBack:function(){if(N.length<1)return!1;var e=N[N.length-1],t=N.filter((function(t){return t.id!==e.id}));C(t);var n=r.find((function(t){return t.id===e.id}));n&&(d(n),O({}))},handleRecordChoice:function(e){O(e)},handleContentAction:function(){if("show_booking_button"in u)A();else{var t=v,n=1===u.next.length?u.next[0]:u.next.find((function(e){return"answered"in e&&e.answered===t.answer}));if(n&&"next_question"in n)j(n.next_question),C((function(e){return[].concat(Object(h.a)(e),[t])}));else{var o=function(e,t,n){var o={};return o=e<6?t.next.find((function(e){return"max_score"in e&&5===e.max_score})):e<50?t.next.find((function(e){return"max_score"in e&&49===e.max_score})):t.next.find((function(e){return!("max_score"in e)})),n.find((function(e){return e.id===o.outcome}))}(N.reduce((function(e,t){return e+t.score}),0),u,e.outcomes);o&&(d(o),Y(S.map((function(e){return"future"===e.cls?Object(i.a)(Object(i.a)({},e),{},{cls:"history"}):e}))))}}},isFirstQuestion:E,tracker:S,questionChoice:v,nextQuestionIsAvailable:F}}(b),t=e.actualContent,n=e.handleBack,r=e.handleRecordChoice,a=e.handleContentAction,s=e.isFirstQuestion,d=e.nextQuestionIsAvailable,f=e.questionChoice,m=e.tracker;return Object(c.jsxs)("div",{className:"checker","data-testid":"component-app",children:[Object(c.jsx)(_,{title:"Heartburn Checker",tracker:m,handleBack:n,actionIsDisabled:s}),Object(c.jsx)(l,Object(i.a)({},Object(i.a)(Object(i.a)({},t),{},{setHistory:r,selectedAnswer:f.answer||""}))),Object(c.jsx)(u,{isDisabled:!d,clickHandle:a,restart:"show_booking_button"in t})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),o(e),r(e),a(e),s(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(f,{})}),document.getElementById("root")),m()}},[[16,1,2]]]);
//# sourceMappingURL=main.962affd2.chunk.js.map