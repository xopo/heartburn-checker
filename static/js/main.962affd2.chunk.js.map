{"version":3,"sources":["components/CardAction.tsx","components/CardContainer.tsx","components/CardHeader.tsx","mock.ts","App.tsx","appCustomHook.ts","helpers.ts","reportWebVitals.ts","index.tsx"],"names":["CardAction","isDisabled","clickHandle","restart","className","data-testid","onClick","disabled","CardContainer","id","question_text","text","show_booking_button","answers","setHistory","selectedAnswer","title","map","answerId","label","setid","answerdObject","answer","score","find","answ","handleSelected","memo","CardHeader","tracker","handleBack","actionIsDisabled","actionClass","cls","apiResult","App","data","useState","questions","setQuestions","actualContent","setActualContent","initialQuestionId","setInitialQuestionId","actualContentId","setActualContentId","questionChoice","setQuestionChoice","qHistory","setQHistory","setTracker","initialQueston","memoisedCreateTracker","useCallback","historyList","trackerList","i","length","push","createTracker","initialSetup","useEffect","questionId","questionSet","question","nextQuestionIsAvailable","isFirstQuestion","lastQuestion","newHistory","filter","q","curQuestion","handleRecordChoice","newEntry","handleContentAction","lastAnswer","nextDirection","next","n","answered","next_question","prev","outcomeEntry","outcomeOptions","outcomes","outcomeObj","max_score","out","outcome","getOutcome","reduce","acc","entry","AppCustomHook","mock","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.962affd2.chunk.js","sourcesContent":["type CardActionProps = {\n    isDisabled: boolean;\n    clickHandle: () => void;\n    restart: boolean;\n}\n\nexport default function CardAction({isDisabled, clickHandle, restart}: CardActionProps) {\n    return(\n        <div className=\"card-action\" data-testid='component-card-action'>\n            {\n                restart ? \n                    <button \n                        className='restart'\n                        data-testid='cca-restart'\n                        onClick={clickHandle}\n                    >Back to the start screen</button> :\n                    \n                    <button \n                        data-testid='cca-next'\n                        disabled={isDisabled}\n                        onClick={clickHandle}\n                    >Next</button>\n            }\n        </div>\n    );\n}","import { memo } from 'react';\nimport { Answer, HistoryEntry, NextAction, NextOutcome } from \"../types\";\n\ntype CardContainerProps = {\n    answers?: Array<Answer>;\n    id: string;\n    question_text?: string;\n    text?: string;\n    next?: Array<NextAction | NextOutcome>;\n    show_booking_button?: boolean;\n    setHistory?:  (obj: HistoryEntry) => void;\n    selectedAnswer?: string;\n};\n\nfunction CardContainer({id, question_text, text, show_booking_button, answers, setHistory, selectedAnswer}: CardContainerProps) {\n    function handleSelected(setid :string) {\n        const answerdObject = {\n            id,\n            answer: setid,\n            score: (((answers && answers.find(answ => answ.id === setid)) || { score: 0 }) as Answer ).score\n        }\n        setHistory && setHistory(answerdObject as HistoryEntry);\n    }\n    const title = question_text || 'Thank you for answering the question';\n\n    return (\n        <div className=\"card-content\" data-testid='component-card-container'>\n            <div className=\"question\" data-testid='ccc-question'>{ title }</div>\n            <div className='choice'>\n                {answers && answers.map(({id: answerId, label}: Answer) => (\n                    <button \n                        data-testid=\"ccc-answer-button\"\n                        key={answerId}\n                        onClick={() => handleSelected(answerId)}\n                        className={selectedAnswer && selectedAnswer === answerId ? 'selected' : ''}\n                    >\n                        {label}\n                    </button>\n                ))}\n                <div className={answers ? 'hidden' : 'outcome'}\n                    data-testid='ccc-outcome'\n                >\n                    {text && <p data-testid='ccc-outcome-text'>{text}</p>}\n                    {show_booking_button && \n                        <button \n                            className='book-meeting'\n                            data-testid='ccc-book-button'\n                        >\n                            Book a meeting\n                        </button>\n                    }\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default memo(CardContainer);","import { TrackerEntry } from \"../types\";\n\ntype HeaderProps = {\n    title: string;\n    tracker: Array<TrackerEntry>;\n    handleBack: () => void;\n    actionIsDisabled?: boolean;\n}\n\nexport default function CardHeader({title, tracker, handleBack, actionIsDisabled}:HeaderProps) {\n    const actionClass = `header-action${actionIsDisabled ? ' hidden' : ''}`\n    return(\n        <div \n            className=\"card-header\"\n            data-testid='component-card-header'\n        >\n            <div className=\"row\">\n                <div \n                    className={actionClass}\n                    data-testid='cch-action'\n                    onClick={handleBack}\n                >.</div>\n                <div \n                    className='header-title'\n                    data-testid='cch-title'\n                >{title}</div>\n            </div>\n            <ul>\n                {tracker.map(({id, cls}) => <li key={id} className={cls}  />)}\n            </ul>\n        </div>\n    );\n}","const apiResult = {\n\t\"questions\": [\n\t\t{\t\n\t\t\t\"id\": \"is_heartburn_known\",\n\t\t\t\"question_text\": \"Is your heartburn previously known?\",\n\t\t\t\"answers\": [\n\t\t\t\t{\"id\": \"is_heartburn_known_yes\", \"label\": \"Yes\", \"score\": 5},\n\t\t\t\t{\"id\": \"is_heartburn_known_no\", \"label\": \"No\", \"score\": 0}\n\t\t\t],\n\t\t\t\"next\": [\n\t\t\t\t{\"answered\": \"is_heartburn_known_yes\", \"next_question\": \"heartburn_previous_treatment\"},\n\t\t\t\t{\"answered\": \"is_heartburn_known_no\", \"next_question\": \"heartburn_weekly_burns\"}\n\t\t\t]\n\t\t},\n\t\t{\t\n\t\t\t\"id\": \"heartburn_previous_treatment\",\n\t\t\t\"question_text\": \"Have you received any treatment for heartburn previously?\",\n\t\t\t\"answers\": [\n\t\t\t\t{\"id\": \"heartburn_previous_treatment_yes\", \"label\": \"Yes\", \"score\": 0},\n\t\t\t\t{\"id\": \"heartburn_previous_treatment_no\", \"label\": \"No\", \"score\": 0}\n\t\t\t],\n\t\t\t\"next\": [\n\t\t\t\t{\"next_question\": \"heartburn_weekly_burns\"}\n\t\t\t]\n\t\t},\n\t\t{\t\n\t\t\t\"id\": \"heartburn_weekly_burns\",\n\t\t\t\"question_text\": \"During a regular week, how often do you have a burning sensation behind your sternum (heartburn)\",\n\t\t\t\"answers\": [\n\t\t\t\t{\"id\": \"heartburn_weekly_burns_0_to_3\", \"label\": \"0-3 days\", \"score\": 0},\n\t\t\t\t{\"id\": \"heartburn_weekly_burns_4_to_7\", \"label\": \"4-7 days\", \"score\": 10}\n\t\t\t],\n\t\t\t\"next\": [\n\t\t\t\t{\"next_question\": \"heartburn_weekly_gastric\"}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": \"heartburn_weekly_gastric\",\n\t\t\t\"question_text\": \"During a regular week, how often do you feel gastric content (solid or liquid) moving upwards against the throat or mouth (regurgitation)?\",\n\t\t\t\"answers\": [\n\t\t\t\t{\"id\": \"heartburn_weekly_gastric_0_to_3\", \"label\": \"0-3 days\", \"score\": 0},\n\t\t\t\t{\"id\": \"heartburn_weekly_gastric_4_to_7\", \"label\": \"4-7 days\", \"score\": 10}\n\t\t\t],\n\t\t\t\"next\": [\n\t\t\t\t{\"next_question\": \"heartburn_weekly_pain\"}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": \"heartburn_weekly_pain\",\n\t\t\t\"question_text\": \"During a regular week, how often do you have pain in the upper and middle part of the stomach?\",\n\t\t\t\"answers\": [\n\t\t\t\t{\"id\": \"heartburn_weekly_pain_0_to_3\", \"label\": \"0-3 days\", \"score\": 0},\n\t\t\t\t{\"id\": \"heartburn_weekly_pain_4_to_7\", \"label\": \"4-7 days\", \"score\": 10}\n\t\t\t],\n\t\t\t\"next\": [\n\t\t\t\t{\"next_question\": \"heartburn_weekly_nauseus\"}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": \"heartburn_weekly_nauseus\",\n\t\t\t\"question_text\": \"During a regular week, how often do you feel nauseus?\",\n\t\t\t\"answers\": [\n\t\t\t\t{\"id\": \"heartburn_weekly_nauseus_0_to_3\", \"label\": \"0-3 days\", \"score\": 0},\n\t\t\t\t{\"id\": \"heartburn_weekly_nauseus_4_to_7\", \"label\": \"4-7 days\", \"score\": 10}\n\t\t\t],\n\t\t\t\"next\": [\n\t\t\t\t{\"next_question\": \"heartburn_weekly_sleep\"}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": \"heartburn_weekly_sleep\",\n\t\t\t\"question_text\": \"During a regular week, how often are you struggling to sleep well because of heartburn and / or regurgitations?\",\n\t\t\t\"answers\": [\n\t\t\t\t{\"id\": \"heartburn_weekly_sleep_0_to_3\", \"label\": \"0-3 days\", \"score\": 0},\n\t\t\t\t{\"id\": \"heartburn_weekly_sleep_4_to_7\", \"label\": \"4-7 days\", \"score\": 10}\n\t\t\t],\n\t\t\t\"next\": [\n\t\t\t\t{\"next_question\": \"heartburn_swallowing\"}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": \"heartburn_swallowing\",\n\t\t\t\"question_text\": \"Do you have difficulty swallowing?\",\n\t\t\t\"answers\": [\n\t\t\t\t{\"id\": \"heartburn_swallowing_yes\", \"label\": \"Yes\", \"score\": 25},\n\t\t\t\t{\"id\": \"heartburn_swallowing_no\", \"label\": \"No\", \"score\": 0}\n\t\t\t],\n\t\t\t\"next\": [\n\t\t\t\t{\"next_question\": \"heartburn_blood_stool\"}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": \"heartburn_blood_stool\",\n\t\t\t\"question_text\": \"Have you seen blood in the stool or vomited blood?\",\n\t\t\t\"answers\": [\n\t\t\t\t{\"id\": \"heartburn_blood_stool_yes\", \"label\": \"Yes\", \"score\": 25},\n\t\t\t\t{\"id\": \"heartburn_blood_stool_no\", \"label\": \"No\", \"score\": 0}\n\t\t\t],\n\t\t\t\"next\": [\n\t\t\t\t{\"next_question\": \"heartburn_lost_weight\"}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": \"heartburn_lost_weight\",\n\t\t\t\"question_text\": \"Have you lost weight unvolontarily?\",\t\n\t\t\t\"answers\": [\n\t\t\t\t{\"id\": \"heartburn_lost_weight_yes\", \"label\": \"Yes\", \"score\": 25},\n\t\t\t\t{\"id\": \"heartburn_lost_weight_no\", \"label\": \"No\", \"score\": 0}\n\t\t\t],\n\t\t\t\"next\": [\n\t\t\t\t{\"max_score\": 5, \"outcome\": \"rest_and_come_back_later\"},\n\t\t\t\t{\"max_score\": 49, \"outcome\": \"see_a_doctor\"},\n\t\t\t\t{\"outcome\": \"go_to_emergency_room\"}\n\t\t\t]\n\t\t}\n\t],\n\t\"outcomes\": [\n\t\t{\n\t\t\t\"id\": \"rest_and_come_back_later\",\n\t\t\t\"text\": \"Your symptom description indicates that this is a self-healing condition. We recommend that you rest for few days. Contact us again if your condition gets worse or if symptoms remain for more than three days.\",\n\t\t\t\"show_booking_button\": false\n\t\t},\n\t\t{\n\t\t\t\"id\": \"see_a_doctor\",\n\t\t\t\"text\": \"Your symptom description indicates that you are in need of medical care. Good news – KRY can help. Book an appointment with one of our doctors.\",\n\t\t\t\"show_booking_button\": true\n\t\t},\n\t\t{\n\t\t\t\"id\": \"go_to_emergency_room\",\n\t\t\t\"text\": \"Your symptom description indicates that you are in need of URGENT medical care. Go directly to the nearest emergency room. If you are unable to do so, call an ambulance.\",\n\t\t\t\"show_booking_button\": false\n\t\t}\n\t]\n}\n\n\nexport default apiResult;","\nimport CardAction from './components/CardAction';\nimport CardContainer from './components/CardContainer';\nimport CardHeader from './components/CardHeader';\nimport mock from './mock';\n\nimport './App.scss';\nimport  AppCustomHook  from './appCustomHook';\nimport { ApiData } from './types';\n\nconst appTitle = \"Heartburn Checker\";\n\nfunction App() {\n  const {\n    actualContent,\n    handleBack,\n    handleRecordChoice,\n    handleContentAction,\n    isFirstQuestion,\n    nextQuestionIsAvailable,\n    questionChoice,\n    tracker,\n  } = AppCustomHook(mock as ApiData);\n\n  return (\n    <div className=\"checker\" data-testid='component-app'>\n      <CardHeader \n        title={appTitle} \n        tracker={tracker} \n        handleBack={handleBack}\n        actionIsDisabled={isFirstQuestion}\n      />\n      <CardContainer {...\n        {\n          ...actualContent, \n          setHistory: handleRecordChoice,\n          selectedAnswer: questionChoice.answer || ''\n        }}/>\n      <CardAction \n        isDisabled={!nextQuestionIsAvailable} \n        clickHandle={handleContentAction}\n        restart={ 'show_booking_button' in actualContent }\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import { useState, useEffect, useCallback } from 'react';\nimport { getOutcome } from './helpers';\nimport type { HistoryEntry, Outcome, Question, TrackerEntry, ApiData } from './types';\n\n\nexport default function AppCustomHook(data: ApiData) {\n    const [questions, setQuestions] = useState([] as Array<Question>);\n    const [actualContent, setActualContent] = useState({} as Question | Outcome);\n    const [initialQuestionId, setInitialQuestionId] = useState('');\n    const [actualContentId, setActualContentId] = useState('');\n    const [questionChoice, setQuestionChoice] = useState({} as HistoryEntry);\n    const [qHistory, setQHistory] = useState([] as Array<HistoryEntry>);\n    const [tracker, setTracker] = useState([] as Array<TrackerEntry>);\n\n    const initialQueston = data.questions[0];\n\n    function getTrackerId(id:number): string {\n        return `${id} - future`;\n    }\n    const memoisedCreateTracker = useCallback(() => {\n        function createTracker(historyList: Array<HistoryEntry>): Array<TrackerEntry> {\n            const trackerList = [{id: 'initial', cls: 'history'}] as Array<TrackerEntry>;\n            for (let i = 0; i <= data.questions.length - 1; i ++ ) {\n                if (historyList[i]) {\n                trackerList.push({id: historyList[i].id, cls: 'history'});\n                } else {\n                trackerList.push({id: getTrackerId(i), cls: 'future'});\n                }\n            }\n            return trackerList;\n        }\n        return createTracker(qHistory);\n    }, [qHistory]);\n\n    const initialSetup = useCallback(() => {\n        setQHistory([]);\n        setInitialQuestionId(initialQueston.id);\n        setActualContentId(initialQueston.id);\n        setTracker(memoisedCreateTracker());\n    }, []);\n\n    useEffect(() => {\n        setQuestions(data.questions as Array<Question>);\n        initialSetup();\n    }, [initialSetup]);\n\n    useEffect(() => {\n        const questionId = actualContentId || initialQuestionId;\n        const questionSet = questions.find(question => question.id === questionId);\n        questionSet && setActualContent(questionSet);\n    }, [actualContentId, initialQuestionId, questions]);\n\n    useEffect(() => {\n        setTracker(memoisedCreateTracker());\n    }, [qHistory, memoisedCreateTracker]);\n\n    function handleRecordChoice(newEntry: HistoryEntry) {\n        setQuestionChoice(newEntry);\n    }\n\n    function handleContentAction() {\n        if ('show_booking_button' in actualContent) {  // should reset\n            initialSetup();\n            return;\n        }\n        const lastAnswer = questionChoice;\n        const nextDirection = actualContent.next.length === 1 ? actualContent.next[0] : actualContent.next.find(n => 'answered' in n && n.answered === lastAnswer.answer);\n        if (nextDirection && 'next_question' in nextDirection) {\n            setActualContentId(nextDirection.next_question);\n            setQHistory(prev => [...prev, lastAnswer]);\n        } else { \n            // outcome screen\n            const score = qHistory.reduce((acc, q) => acc + q.score, 0);\n            let outcomeEntry = getOutcome(score, actualContent, data.outcomes);\n            \n            if (outcomeEntry) {\n                setActualContent(outcomeEntry);\n                setTracker(tracker.map(entry => {\n                    if (entry.cls === 'future') {\n                        return {...entry, cls: 'history'};\n                    } \n                    return entry;\n                }));\n            }\n        }\n    }\n    const nextQuestionIsAvailable = questionChoice.id === actualContent.id;\n    \n    function handleBack() {\n        if (qHistory.length < 1) {\n        return false; // startpoint\n        }\n        const lastQuestion = qHistory[qHistory.length - 1];\n        const newHistory = qHistory.filter(q => q.id !== lastQuestion.id);\n        \n        setQHistory(newHistory);\n        const curQuestion = questions.find(q => q.id === lastQuestion.id);\n        if (curQuestion) {\n        setActualContent(curQuestion);\n        setQuestionChoice({} as HistoryEntry);\n        }\n\n    }\n\n    const isFirstQuestion = actualContent.id === initialQuestionId;\n\n    return {\n        actualContent,\n        handleBack,\n        handleRecordChoice,\n        handleContentAction,\n        isFirstQuestion,\n        tracker,\n        questionChoice,\n        nextQuestionIsAvailable,\n    } \n}","import { NextOutcome, Outcome, Question } from \"./types\";\n\nexport function getOutcome(score: number, outcomeOptions: Question | Outcome, outcomes: Array<Outcome>) {\n    let outcomeObj = {} as  NextOutcome;\n    if (score < 6) {\n        outcomeObj = (outcomeOptions as Question).next.find(n => 'max_score' in n && n.max_score === 5) as NextOutcome;\n    } else if (score < 50) {\n        outcomeObj = (outcomeOptions as Question).next.find(n => 'max_score' in n && n.max_score === 49) as NextOutcome;\n    } else {\n        outcomeObj = (outcomeOptions as Question).next.find(n => !('max_score' in n)) as NextOutcome;\n    }\n    return outcomes.find(out => out.id === outcomeObj.outcome);\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}